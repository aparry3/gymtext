{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className = \"\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`rounded-2xl border-0 bg-white shadow-lg shadow-black/[0.03] ring-1 ring-black/[0.05] ${className}`}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className = \"\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`flex flex-col space-y-1.5 p-6 ${className}`}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className = \"\", ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={`text-2xl font-semibold leading-none tracking-tight ${className}`}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className = \"\", ...props }, ref) => (\n  <p\n    ref={ref}\n    className={`text-sm text-muted-foreground ${className}`}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className = \"\", ...props }, ref) => (\n  <div ref={ref} className={`p-6 pt-0 ${className}`} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className = \"\", ...props }, ref) => (\n  <div\n    ref={ref}\n    className={`flex items-center p-6 pt-0 ${className}`}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;;;AAEA,MAAM,qBAAO,0XAAgB,CAG3B,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,qFAAqF,EAAE,WAAW;QAC7G,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,0XAAgB,CAGjC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,8BAA8B,EAAE,WAAW;QACtD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,0XAAgB,CAGhC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,mDAAmD,EAAE,WAAW;QAC3E,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,0XAAgB,CAGtC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,8BAA8B,EAAE,WAAW;QACtD,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,0XAAgB,CAGlC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QAAI,KAAK;QAAK,WAAW,CAAC,SAAS,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;AAE9D,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,0XAAgB,CAGjC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE,oBAC/B,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,2BAA2B,EAAE,WAAW;QACnD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link'\n  size?: 'default' | 'sm' | 'lg' | 'icon'\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className = \"\", variant = 'default', size = 'default', ...props }, ref) => {\n    const baseStyles = \"inline-flex items-center justify-center whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 shadow-sm\"\n    \n    const variants = {\n      default: \"bg-blue-600 text-white hover:bg-blue-700 shadow-lg shadow-blue-600/25 hover:shadow-xl hover:shadow-blue-600/30 hover:scale-[1.02]\",\n      destructive: \"bg-red-600 text-white hover:bg-red-700 shadow-lg shadow-red-600/25 hover:shadow-xl hover:shadow-red-600/30 hover:scale-[1.02]\",\n      outline: \"border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md hover:border-gray-300\",\n      secondary: \"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:scale-[1.02]\",\n      ghost: \"text-gray-600 hover:bg-gray-100 hover:text-gray-900\",\n      link: \"text-blue-600 underline-offset-4 hover:underline hover:text-blue-700\"\n    }\n    \n    const sizes = {\n      default: \"h-10 px-4 py-2\",\n      sm: \"h-9 rounded-xl px-3 text-sm\",\n      lg: \"h-11 rounded-xl px-8 text-base\",\n      icon: \"h-10 w-10\"\n    }\n    \n    return (\n      <button\n        className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button }"],"names":[],"mappings":";;;;;AAAA;;;AAQA,MAAM,uBAAS,0XAAgB,CAC7B,CAAC,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,SAAS,EAAE,GAAG,OAAO,EAAE;IACpE,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,SAAS;QACT,WAAW;QACX,OAAO;QACP,MAAM;IACR;IAEA,MAAM,QAAQ;QACZ,SAAS;QACT,IAAI;QACJ,IAAI;QACJ,MAAM;IACR;IAEA,qBACE,qZAAC;QACC,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAC3E,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/components/ui/skeleton.tsx"],"sourcesContent":["import * as React from \"react\"\n\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  children?: React.ReactNode\n}\n\nconst Skeleton = React.forwardRef<HTMLDivElement, SkeletonProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={`animate-pulse rounded-md bg-muted ${className}`}\n        {...props}\n      />\n    )\n  }\n)\nSkeleton.displayName = \"Skeleton\"\n\nexport { Skeleton }"],"names":[],"mappings":";;;;;AAAA;;;AAMA,MAAM,yBAAW,0XAAgB,CAC/B,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,kCAAkC,EAAE,WAAW;QAC1D,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/components/ui/breadcrumb.tsx"],"sourcesContent":["import * as React from \"react\"\nimport Link from \"next/link\"\n\nexport interface BreadcrumbProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode\n}\n\nconst Breadcrumb = React.forwardRef<HTMLElement, BreadcrumbProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <nav\n        ref={ref}\n        aria-label=\"breadcrumb\"\n        className={className}\n        {...props}\n      />\n    )\n  }\n)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nexport interface BreadcrumbListProps extends React.HTMLAttributes<HTMLOListElement> {\n  children?: React.ReactNode\n}\n\nconst BreadcrumbList = React.forwardRef<HTMLOListElement, BreadcrumbListProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <ol\n        ref={ref}\n        className={`flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5 ${className}`}\n        {...props}\n      />\n    )\n  }\n)\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nexport interface BreadcrumbItemProps extends React.HTMLAttributes<HTMLLIElement> {\n  children?: React.ReactNode\n}\n\nconst BreadcrumbItem = React.forwardRef<HTMLLIElement, BreadcrumbItemProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <li\n        ref={ref}\n        className={`inline-flex items-center gap-1.5 ${className}`}\n        {...props}\n      />\n    )\n  }\n)\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nexport interface BreadcrumbLinkProps extends React.ComponentProps<typeof Link> {\n  children?: React.ReactNode\n}\n\nconst BreadcrumbLink = React.forwardRef<HTMLAnchorElement, BreadcrumbLinkProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <Link\n        ref={ref}\n        className={`transition-colors hover:text-foreground ${className}`}\n        {...props}\n      />\n    )\n  }\n)\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nexport interface BreadcrumbPageProps extends React.HTMLAttributes<HTMLSpanElement> {\n  children?: React.ReactNode\n}\n\nconst BreadcrumbPage = React.forwardRef<HTMLSpanElement, BreadcrumbPageProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <span\n        ref={ref}\n        role=\"link\"\n        aria-disabled=\"true\"\n        aria-current=\"page\"\n        className={`font-normal text-foreground ${className}`}\n        {...props}\n      />\n    )\n  }\n)\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({ children, className = \"\", ...props }: React.HTMLAttributes<HTMLLIElement>) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={`[&>svg]:size-3.5 ${className}`}\n    {...props}\n  >\n    {children ?? <ChevronRightIcon />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\n// Simple chevron right icon\nconst ChevronRightIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n    strokeWidth={1.5}\n    stroke=\"currentColor\"\n    className=\"w-4 h-4\"\n  >\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"m8.25 4.5 7.5 7.5-7.5 7.5\" />\n  </svg>\n)\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAMA,MAAM,2BAAa,0XAAgB,CACjC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC;QACC,KAAK;QACL,cAAW;QACX,WAAW;QACV,GAAG,KAAK;;;;;;AAGf;AAEF,WAAW,WAAW,GAAG;AAMzB,MAAM,+BAAiB,0XAAgB,CACrC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,yFAAyF,EAAE,WAAW;QACjH,GAAG,KAAK;;;;;;AAGf;AAEF,eAAe,WAAW,GAAG;AAM7B,MAAM,+BAAiB,0XAAgB,CACrC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC;QACC,KAAK;QACL,WAAW,CAAC,iCAAiC,EAAE,WAAW;QACzD,GAAG,KAAK;;;;;;AAGf;AAEF,eAAe,WAAW,GAAG;AAM7B,MAAM,+BAAiB,0XAAgB,CACrC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC,8UAAI;QACH,KAAK;QACL,WAAW,CAAC,wCAAwC,EAAE,WAAW;QAChE,GAAG,KAAK;;;;;;AAGf;AAEF,eAAe,WAAW,GAAG;AAM7B,MAAM,+BAAiB,0XAAgB,CACrC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,qZAAC;QACC,KAAK;QACL,MAAK;QACL,iBAAc;QACd,gBAAa;QACb,WAAW,CAAC,4BAA4B,EAAE,WAAW;QACpD,GAAG,KAAK;;;;;;AAGf;AAEF,eAAe,WAAW,GAAG;AAE7B,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,GAAG,OAA4C,iBACtG,qZAAC;QACC,MAAK;QACL,eAAY;QACZ,WAAW,CAAC,iBAAiB,EAAE,WAAW;QACzC,GAAG,KAAK;kBAER,0BAAY,qZAAC;;;;;;;;;;AAGlB,oBAAoB,WAAW,GAAG;AAElC,4BAA4B;AAC5B,MAAM,mBAAmB,kBACvB,qZAAC;QACC,OAAM;QACN,MAAK;QACL,SAAQ;QACR,aAAa;QACb,QAAO;QACP,WAAU;kBAEV,cAAA,qZAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,GAAE"}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/app/%28protected%29/users/%5Bid%5D/chat/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef, useCallback } from 'react'\nimport { useParams, useRouter } from 'next/navigation'\nimport { Card } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Skeleton } from '@/components/ui/skeleton'\nimport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbSeparator,\n  BreadcrumbPage\n} from '@/components/ui/breadcrumb'\n\ninterface Message {\n  id: string\n  content: string\n  direction: 'inbound' | 'outbound'\n  timestamp: string\n  from: string\n  to: string\n}\n\nexport default function AdminChatPage() {\n  const { id } = useParams()\n  const router = useRouter()\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputMessage, setInputMessage] = useState('')\n  const [isInitialLoading, setIsInitialLoading] = useState(true)\n  const [isSending, setIsSending] = useState(false)\n  const [userName, setUserName] = useState<string>('')\n  const [userPhoneNumber, setUserPhoneNumber] = useState<string>('')\n  const [sseConnected, setSseConnected] = useState(false)\n  const [hasMore, setHasMore] = useState(true)\n  const [isLoadingMore, setIsLoadingMore] = useState(false)\n  const [offset, setOffset] = useState(0)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const messagesContainerRef = useRef<HTMLDivElement>(null)\n  const eventSourceRef = useRef<EventSource | null>(null)\n  const MESSAGES_PER_PAGE = 20\n\n  const scrollToBottom = useCallback(() => {\n    // Use setTimeout to ensure DOM has updated before scrolling\n    setTimeout(() => {\n      messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n    }, 100)\n  }, [])\n\n  useEffect(() => {\n    scrollToBottom()\n  }, [messages, scrollToBottom])\n\n  const fetchConversations = useCallback(async (isInitialLoad = false) => {\n    if (isInitialLoad) {\n      setIsInitialLoading(true)\n    }\n    try {\n      const response = await fetch(`/api/admin/users/${id}/chat?limit=${MESSAGES_PER_PAGE}&offset=0`)\n      const result = await response.json()\n\n      if (!response.ok || !result.success) {\n        throw new Error(result.error || 'Failed to fetch messages')\n      }\n\n      // Get messages from the API (already sorted oldest-to-newest)\n      const messages = result.data.messages ?? []\n      setMessages(messages)\n      setHasMore(result.data.pagination?.hasMore ?? false)\n      setOffset(MESSAGES_PER_PAGE)\n\n      // Fetch user name and phone number on initial load\n      if (isInitialLoad) {\n        const userResponse = await fetch(`/api/admin/users/${id}`)\n        const userResult = await userResponse.json()\n        if (userResult.success) {\n          setUserName(userResult.data.user.name || 'User')\n          setUserPhoneNumber(userResult.data.user.phoneNumber || '')\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching messages:', err)\n    } finally {\n      if (isInitialLoad) {\n        setIsInitialLoading(false)\n      }\n    }\n  }, [id, MESSAGES_PER_PAGE])\n\n  const loadMoreMessages = useCallback(async () => {\n    if (!hasMore || isLoadingMore) return\n\n    setIsLoadingMore(true)\n    try {\n      const response = await fetch(`/api/admin/users/${id}/chat?limit=${MESSAGES_PER_PAGE}&offset=${offset}`)\n      const result = await response.json()\n\n      if (!response.ok || !result.success) {\n        throw new Error(result.error || 'Failed to fetch more messages')\n      }\n\n      const olderMessages = result.data.messages ?? []\n\n      // Prepend older messages to the existing list\n      setMessages(prev => [...olderMessages, ...prev])\n      setHasMore(result.data.pagination?.hasMore ?? false)\n      setOffset(prev => prev + MESSAGES_PER_PAGE)\n    } catch (err) {\n      console.error('Error loading more messages:', err)\n    } finally {\n      setIsLoadingMore(false)\n    }\n  }, [id, offset, hasMore, isLoadingMore, MESSAGES_PER_PAGE])\n\n  useEffect(() => {\n    if (id) {\n      fetchConversations(true)\n    }\n  }, [id, fetchConversations])\n\n  // Handle scroll to top for loading more messages\n  useEffect(() => {\n    const container = messagesContainerRef.current\n    if (!container) return\n\n    const handleScroll = () => {\n      // Load more when scrolled within 100px of the top\n      if (container.scrollTop < 100 && hasMore && !isLoadingMore) {\n        // Save current scroll position\n        const scrollHeightBefore = container.scrollHeight\n        const scrollTopBefore = container.scrollTop\n\n        loadMoreMessages().then(() => {\n          // Restore scroll position after loading more messages\n          // This prevents the view from jumping to the top\n          requestAnimationFrame(() => {\n            const scrollHeightAfter = container.scrollHeight\n            container.scrollTop = scrollTopBefore + (scrollHeightAfter - scrollHeightBefore)\n          })\n        })\n      }\n    }\n\n    container.addEventListener('scroll', handleScroll)\n    return () => container.removeEventListener('scroll', handleScroll)\n  }, [hasMore, isLoadingMore, loadMoreMessages])\n\n  // Set up SSE connection for real-time messages\n  useEffect(() => {\n    if (!id || !userPhoneNumber) return\n\n    // Try to connect to SSE endpoint (only works with MESSAGING_PROVIDER=local)\n    const eventSource = new EventSource(`/api/messages/stream?phoneNumber=${encodeURIComponent(userPhoneNumber)}`)\n    eventSourceRef.current = eventSource\n\n    eventSource.onopen = () => {\n      console.log('[SSE] Connected to message stream')\n      setSseConnected(true)\n    }\n\n    eventSource.addEventListener('message', (event) => {\n      try {\n        const data = JSON.parse(event.data)\n\n        if (data.type === 'connected') {\n          console.log('[SSE] Stream ready:', data)\n        } else if (data.type === 'message' && data.message) {\n          // Add the new outbound message to the messages list\n          const newMessage: Message = {\n            id: data.message.id,\n            content: data.message.content,\n            direction: 'outbound',\n            timestamp: data.message.timestamp,\n            from: data.message.from,\n            to: data.message.to,\n          }\n\n          setMessages(prev => {\n            // Remove any temporary ack messages (starts with \"temp-ack-\")\n            // and avoid duplicates\n            const withoutTempAck = prev.filter(m => !m.id.startsWith('temp-ack-'))\n\n            if (withoutTempAck.some(m => m.id === newMessage.id)) {\n              return prev\n            }\n\n            return [...withoutTempAck, newMessage]\n          })\n\n          console.log('[SSE] Received message:', newMessage)\n        }\n      } catch (error) {\n        console.error('[SSE] Error parsing message:', error)\n      }\n    })\n\n    eventSource.onerror = (error) => {\n      console.log('[SSE] Connection error (may not be using local provider):', error)\n      setSseConnected(false)\n      eventSource.close()\n    }\n\n    // Cleanup on unmount\n    return () => {\n      console.log('[SSE] Disconnecting')\n      eventSource.close()\n      setSseConnected(false)\n    }\n  }, [id, userPhoneNumber])\n\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!inputMessage.trim() || isSending) return\n\n    const userMessage = inputMessage.trim()\n    setInputMessage('')\n    setIsSending(true)\n\n    // Optimistically add user message\n    const optimisticUserMessage: Message = {\n      id: `temp-user-${Date.now()}`,\n      content: userMessage,\n      direction: 'inbound',\n      timestamp: new Date().toISOString(),\n      from: 'user',\n      to: 'system'\n    }\n    setMessages(prev => [...prev, optimisticUserMessage])\n\n    try {\n      const response = await fetch(`/api/admin/users/${id}/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ message: userMessage, userId: id }),\n      })\n\n      const result = await response.json()\n\n      if (!response.ok || !result.success) {\n        throw new Error(result.error || 'Failed to send message')\n      }\n\n      // The API now returns ack instead of the actual response\n      // Show the ack message temporarily (will be replaced by real response via SSE)\n      const ackMessage: Message = {\n        id: `temp-ack-${result.data.jobId}`,\n        content: result.data.ackMessage,\n        direction: 'outbound',\n        timestamp: result.data.timestamp,\n        from: 'system',\n        to: 'user'\n      }\n\n      // Add the ack message\n      // The actual response will arrive via SSE and replace this\n      setMessages(prev => [...prev, ackMessage])\n\n      console.log('[Admin Chat] Message queued:', {\n        jobId: result.data.jobId,\n        conversationId: result.data.conversationId,\n      })\n    } catch (err) {\n      console.error('Failed to send message:', err)\n      // Remove optimistic user message on error\n      setMessages(prev => prev.filter(m => m.id !== optimisticUserMessage.id))\n    } finally {\n      setIsSending(false)\n    }\n  }\n\n  if (isInitialLoading) {\n    return <ChatSkeleton />\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50/50\">\n      <div className=\"container mx-auto px-4 py-6 max-w-4xl\">\n        <div className=\"space-y-6\">\n          {/* Breadcrumb */}\n          <Breadcrumb>\n            <BreadcrumbList>\n              <BreadcrumbItem>\n                <BreadcrumbLink href=\"/users\">Users</BreadcrumbLink>\n              </BreadcrumbItem>\n              <BreadcrumbSeparator />\n              <BreadcrumbItem>\n                <BreadcrumbLink href={`/users/${id}`}>\n                  {userName || 'User'}\n                </BreadcrumbLink>\n              </BreadcrumbItem>\n              <BreadcrumbSeparator />\n              <BreadcrumbItem>\n                <BreadcrumbPage>Chat</BreadcrumbPage>\n              </BreadcrumbItem>\n            </BreadcrumbList>\n          </Breadcrumb>\n\n          {/* Chat Interface */}\n          <Card className=\"flex flex-col h-[calc(100vh-200px)]\">\n            {/* Header */}\n            <div className=\"p-4 border-b bg-white\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <h1 className=\"text-xl font-semibold\">{userName}</h1>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Admin Chat Simulator\n                    {sseConnected && (\n                      <span className=\"ml-2 inline-flex items-center gap-1 text-green-600\">\n                        <span className=\"h-2 w-2 rounded-full bg-green-600 animate-pulse\" />\n                        Live\n                      </span>\n                    )}\n                  </p>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => router.push(`/users/${id}`)}\n                >\n                  Back to Profile\n                </Button>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div ref={messagesContainerRef} className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\n              {/* Loading indicator at the top */}\n              {isLoadingMore && (\n                <div className=\"flex justify-center py-2\">\n                  <Loader className=\"h-5 w-5 animate-spin text-muted-foreground\" />\n                </div>\n              )}\n\n              {/* Show \"no more messages\" when at the end */}\n              {!hasMore && messages.length > 0 && (\n                <div className=\"flex justify-center py-2\">\n                  <p className=\"text-xs text-muted-foreground\">No more messages</p>\n                </div>\n              )}\n\n              {messages.length === 0 ? (\n                <div className=\"flex items-center justify-center h-full\">\n                  <div className=\"text-center\">\n                    <MessageCircle className=\"h-12 w-12 text-muted-foreground mx-auto mb-2\" />\n                    <p className=\"text-muted-foreground\">\n                      No messages yet. Start a conversation!\n                    </p>\n                  </div>\n                </div>\n              ) : (\n                messages.map((message) => (\n                  <MessageBubble key={message.id} message={message} />\n                ))\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"p-4 border-t bg-white\">\n              <form onSubmit={handleSendMessage} className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  placeholder=\"Type a message...\"\n                  disabled={isSending}\n                  className=\"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={!inputMessage.trim() || isSending}\n                  className=\"gap-2\"\n                >\n                  {isSending ? (\n                    <>\n                      <Loader className=\"h-4 w-4 animate-spin\" />\n                      Sending...\n                    </>\n                  ) : (\n                    <>\n                      <Send className=\"h-4 w-4\" />\n                      Send\n                    </>\n                  )}\n                </Button>\n              </form>\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n\ninterface MessageBubbleProps {\n  message: Message\n}\n\nfunction MessageBubble({ message }: MessageBubbleProps) {\n  const isInbound = message.direction === 'inbound'\n  const timestamp = new Date(message.timestamp).toLocaleTimeString('en-US', {\n    hour: 'numeric',\n    minute: '2-digit',\n  })\n\n  return (\n    <div className={`flex ${isInbound ? 'justify-end' : 'justify-start'}`}>\n      <div\n        className={`max-w-[70%] rounded-2xl px-4 py-2 ${\n          isInbound\n            ? 'bg-blue-500 text-white rounded-br-sm'\n            : 'bg-white border border-gray-200 text-gray-900 rounded-bl-sm'\n        }`}\n      >\n        <p className=\"text-sm whitespace-pre-wrap break-words\">{message.content}</p>\n        <p\n          className={`text-xs mt-1 ${\n            isInbound ? 'text-blue-100' : 'text-gray-500'\n          }`}\n        >\n          {timestamp}\n        </p>\n      </div>\n    </div>\n  )\n}\n\nfunction ChatSkeleton() {\n  return (\n    <div className=\"min-h-screen bg-gray-50/50\">\n      <div className=\"container mx-auto px-4 py-6 max-w-4xl\">\n        <div className=\"space-y-6\">\n          <Skeleton className=\"h-6 w-64\" />\n          <Card className=\"h-[calc(100vh-200px)]\">\n            <div className=\"p-4 border-b\">\n              <Skeleton className=\"h-6 w-32 mb-2\" />\n              <Skeleton className=\"h-4 w-48\" />\n            </div>\n            <div className=\"p-4 space-y-4\">\n              {Array.from({ length: 5 }).map((_, i) => (\n                <div\n                  key={i}\n                  className={`flex ${i % 2 === 0 ? 'justify-end' : 'justify-start'}`}\n                >\n                  <Skeleton className=\"h-16 w-64 rounded-2xl\" />\n                </div>\n              ))}\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// Simple icons\nconst Send = ({ className }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5\" />\n  </svg>\n)\n\nconst Loader = ({ className }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n  </svg>\n)\n\nconst MessageCircle = ({ className }: { className?: string }) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth={1.5} stroke=\"currentColor\" className={className}>\n    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z\" />\n  </svg>\n)\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAyBe,SAAS;IACtB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAA,sTAAS;IACxB,MAAM,SAAS,IAAA,sTAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wXAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wXAAQ,EAAC;IACjD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,wXAAQ,EAAC;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wXAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,wXAAQ,EAAS;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,wXAAQ,EAAS;IAC/D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wXAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wXAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wXAAQ,EAAC;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wXAAQ,EAAC;IACrC,MAAM,iBAAiB,IAAA,sXAAM,EAAiB;IAC9C,MAAM,uBAAuB,IAAA,sXAAM,EAAiB;IACpD,MAAM,iBAAiB,IAAA,sXAAM,EAAqB;IAClD,MAAM,oBAAoB;IAE1B,MAAM,iBAAiB,IAAA,2XAAW,EAAC;QACjC,4DAA4D;QAC5D,WAAW;YACT,eAAe,OAAO,EAAE,eAAe;gBAAE,UAAU;YAAS;QAC9D,GAAG;IACL,GAAG,EAAE;IAEL,IAAA,yXAAS,EAAC;QACR;IACF,GAAG;QAAC;QAAU;KAAe;IAE7B,MAAM,qBAAqB,IAAA,2XAAW,EAAC,OAAO,gBAAgB,KAAK;QACjE,IAAI,eAAe;YACjB,oBAAoB;QACtB;QACA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,GAAG,YAAY,EAAE,kBAAkB,SAAS,CAAC;YAC9F,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,OAAO,EAAE;gBACnC,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;YAClC;YAEA,8DAA8D;YAC9D,MAAM,WAAW,OAAO,IAAI,CAAC,QAAQ,IAAI,EAAE;YAC3C,YAAY;YACZ,WAAW,OAAO,IAAI,CAAC,UAAU,EAAE,WAAW;YAC9C,UAAU;YAEV,mDAAmD;YACnD,IAAI,eAAe;gBACjB,MAAM,eAAe,MAAM,MAAM,CAAC,iBAAiB,EAAE,IAAI;gBACzD,MAAM,aAAa,MAAM,aAAa,IAAI;gBAC1C,IAAI,WAAW,OAAO,EAAE;oBACtB,YAAY,WAAW,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI;oBACzC,mBAAmB,WAAW,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI;gBACzD;YACF;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,4BAA4B;QAC5C,SAAU;YACR,IAAI,eAAe;gBACjB,oBAAoB;YACtB;QACF;IACF,GAAG;QAAC;QAAI;KAAkB;IAE1B,MAAM,mBAAmB,IAAA,2XAAW,EAAC;QACnC,IAAI,CAAC,WAAW,eAAe;QAE/B,iBAAiB;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,GAAG,YAAY,EAAE,kBAAkB,QAAQ,EAAE,QAAQ;YACtG,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,OAAO,EAAE;gBACnC,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;YAClC;YAEA,MAAM,gBAAgB,OAAO,IAAI,CAAC,QAAQ,IAAI,EAAE;YAEhD,8CAA8C;YAC9C,YAAY,CAAA,OAAQ;uBAAI;uBAAkB;iBAAK;YAC/C,WAAW,OAAO,IAAI,CAAC,UAAU,EAAE,WAAW;YAC9C,UAAU,CAAA,OAAQ,OAAO;QAC3B,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gCAAgC;QAChD,SAAU;YACR,iBAAiB;QACnB;IACF,GAAG;QAAC;QAAI;QAAQ;QAAS;QAAe;KAAkB;IAE1D,IAAA,yXAAS,EAAC;QACR,IAAI,IAAI;YACN,mBAAmB;QACrB;IACF,GAAG;QAAC;QAAI;KAAmB;IAE3B,iDAAiD;IACjD,IAAA,yXAAS,EAAC;QACR,MAAM,YAAY,qBAAqB,OAAO;QAC9C,IAAI,CAAC,WAAW;QAEhB,MAAM,eAAe;YACnB,kDAAkD;YAClD,IAAI,UAAU,SAAS,GAAG,OAAO,WAAW,CAAC,eAAe;gBAC1D,+BAA+B;gBAC/B,MAAM,qBAAqB,UAAU,YAAY;gBACjD,MAAM,kBAAkB,UAAU,SAAS;gBAE3C,mBAAmB,IAAI,CAAC;oBACtB,sDAAsD;oBACtD,iDAAiD;oBACjD,sBAAsB;wBACpB,MAAM,oBAAoB,UAAU,YAAY;wBAChD,UAAU,SAAS,GAAG,kBAAkB,CAAC,oBAAoB,kBAAkB;oBACjF;gBACF;YACF;QACF;QAEA,UAAU,gBAAgB,CAAC,UAAU;QACrC,OAAO,IAAM,UAAU,mBAAmB,CAAC,UAAU;IACvD,GAAG;QAAC;QAAS;QAAe;KAAiB;IAE7C,+CAA+C;IAC/C,IAAA,yXAAS,EAAC;QACR,IAAI,CAAC,MAAM,CAAC,iBAAiB;QAE7B,4EAA4E;QAC5E,MAAM,cAAc,IAAI,YAAY,CAAC,iCAAiC,EAAE,mBAAmB,kBAAkB;QAC7G,eAAe,OAAO,GAAG;QAEzB,YAAY,MAAM,GAAG;YACnB,QAAQ,GAAG,CAAC;YACZ,gBAAgB;QAClB;QAEA,YAAY,gBAAgB,CAAC,WAAW,CAAC;YACvC,IAAI;gBACF,MAAM,OAAO,KAAK,KAAK,CAAC,MAAM,IAAI;gBAElC,IAAI,KAAK,IAAI,KAAK,aAAa;oBAC7B,QAAQ,GAAG,CAAC,uBAAuB;gBACrC,OAAO,IAAI,KAAK,IAAI,KAAK,aAAa,KAAK,OAAO,EAAE;oBAClD,oDAAoD;oBACpD,MAAM,aAAsB;wBAC1B,IAAI,KAAK,OAAO,CAAC,EAAE;wBACnB,SAAS,KAAK,OAAO,CAAC,OAAO;wBAC7B,WAAW;wBACX,WAAW,KAAK,OAAO,CAAC,SAAS;wBACjC,MAAM,KAAK,OAAO,CAAC,IAAI;wBACvB,IAAI,KAAK,OAAO,CAAC,EAAE;oBACrB;oBAEA,YAAY,CAAA;wBACV,8DAA8D;wBAC9D,uBAAuB;wBACvB,MAAM,iBAAiB,KAAK,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,EAAE,CAAC,UAAU,CAAC;wBAEzD,IAAI,eAAe,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,WAAW,EAAE,GAAG;4BACpD,OAAO;wBACT;wBAEA,OAAO;+BAAI;4BAAgB;yBAAW;oBACxC;oBAEA,QAAQ,GAAG,CAAC,2BAA2B;gBACzC;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;YAChD;QACF;QAEA,YAAY,OAAO,GAAG,CAAC;YACrB,QAAQ,GAAG,CAAC,6DAA6D;YACzE,gBAAgB;YAChB,YAAY,KAAK;QACnB;QAEA,qBAAqB;QACrB,OAAO;YACL,QAAQ,GAAG,CAAC;YACZ,YAAY,KAAK;YACjB,gBAAgB;QAClB;IACF,GAAG;QAAC;QAAI;KAAgB;IAExB,MAAM,oBAAoB,OAAO;QAC/B,EAAE,cAAc;QAChB,IAAI,CAAC,aAAa,IAAI,MAAM,WAAW;QAEvC,MAAM,cAAc,aAAa,IAAI;QACrC,gBAAgB;QAChB,aAAa;QAEb,kCAAkC;QAClC,MAAM,wBAAiC;YACrC,IAAI,CAAC,UAAU,EAAE,KAAK,GAAG,IAAI;YAC7B,SAAS;YACT,WAAW;YACX,WAAW,IAAI,OAAO,WAAW;YACjC,MAAM;YACN,IAAI;QACN;QACA,YAAY,CAAA,OAAQ;mBAAI;gBAAM;aAAsB;QAEpD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,iBAAiB,EAAE,GAAG,KAAK,CAAC,EAAE;gBAC1D,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,SAAS;oBAAa,QAAQ;gBAAG;YAC1D;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,OAAO,EAAE;gBACnC,MAAM,IAAI,MAAM,OAAO,KAAK,IAAI;YAClC;YAEA,yDAAyD;YACzD,+EAA+E;YAC/E,MAAM,aAAsB;gBAC1B,IAAI,CAAC,SAAS,EAAE,OAAO,IAAI,CAAC,KAAK,EAAE;gBACnC,SAAS,OAAO,IAAI,CAAC,UAAU;gBAC/B,WAAW;gBACX,WAAW,OAAO,IAAI,CAAC,SAAS;gBAChC,MAAM;gBACN,IAAI;YACN;YAEA,sBAAsB;YACtB,2DAA2D;YAC3D,YAAY,CAAA,OAAQ;uBAAI;oBAAM;iBAAW;YAEzC,QAAQ,GAAG,CAAC,gCAAgC;gBAC1C,OAAO,OAAO,IAAI,CAAC,KAAK;gBACxB,gBAAgB,OAAO,IAAI,CAAC,cAAc;YAC5C;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;YACzC,0CAA0C;YAC1C,YAAY,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,sBAAsB,EAAE;QACxE,SAAU;YACR,aAAa;QACf;IACF;IAEA,IAAI,kBAAkB;QACpB,qBAAO,qZAAC;;;;;IACV;IAEA,qBACE,qZAAC;QAAI,WAAU;kBACb,cAAA,qZAAC;YAAI,WAAU;sBACb,cAAA,qZAAC;gBAAI,WAAU;;kCAEb,qZAAC,qKAAU;kCACT,cAAA,qZAAC,yKAAc;;8CACb,qZAAC,yKAAc;8CACb,cAAA,qZAAC,yKAAc;wCAAC,MAAK;kDAAS;;;;;;;;;;;8CAEhC,qZAAC,8KAAmB;;;;;8CACpB,qZAAC,yKAAc;8CACb,cAAA,qZAAC,yKAAc;wCAAC,MAAM,CAAC,OAAO,EAAE,IAAI;kDACjC,YAAY;;;;;;;;;;;8CAGjB,qZAAC,8KAAmB;;;;;8CACpB,qZAAC,yKAAc;8CACb,cAAA,qZAAC,yKAAc;kDAAC;;;;;;;;;;;;;;;;;;;;;;kCAMtB,qZAAC,yJAAI;wBAAC,WAAU;;0CAEd,qZAAC;gCAAI,WAAU;0CACb,cAAA,qZAAC;oCAAI,WAAU;;sDACb,qZAAC;;8DACC,qZAAC;oDAAG,WAAU;8DAAyB;;;;;;8DACvC,qZAAC;oDAAE,WAAU;;wDAAgC;wDAE1C,8BACC,qZAAC;4DAAK,WAAU;;8EACd,qZAAC;oEAAK,WAAU;;;;;;gEAAoD;;;;;;;;;;;;;;;;;;;sDAM5E,qZAAC,6JAAM;4CACL,SAAQ;4CACR,MAAK;4CACL,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI;sDAC1C;;;;;;;;;;;;;;;;;0CAOL,qZAAC;gCAAI,KAAK;gCAAsB,WAAU;;oCAEvC,+BACC,qZAAC;wCAAI,WAAU;kDACb,cAAA,qZAAC;4CAAO,WAAU;;;;;;;;;;;oCAKrB,CAAC,WAAW,SAAS,MAAM,GAAG,mBAC7B,qZAAC;wCAAI,WAAU;kDACb,cAAA,qZAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;oCAIhD,SAAS,MAAM,KAAK,kBACnB,qZAAC;wCAAI,WAAU;kDACb,cAAA,qZAAC;4CAAI,WAAU;;8DACb,qZAAC;oDAAc,WAAU;;;;;;8DACzB,qZAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;;;;;;+CAMzC,SAAS,GAAG,CAAC,CAAC,wBACZ,qZAAC;4CAA+B,SAAS;2CAArB,QAAQ,EAAE;;;;;kDAGlC,qZAAC;wCAAI,KAAK;;;;;;;;;;;;0CAIZ,qZAAC;gCAAI,WAAU;0CACb,cAAA,qZAAC;oCAAK,UAAU;oCAAmB,WAAU;;sDAC3C,qZAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;4CAC/C,aAAY;4CACZ,UAAU;4CACV,WAAU;;;;;;sDAEZ,qZAAC,6JAAM;4CACL,MAAK;4CACL,UAAU,CAAC,aAAa,IAAI,MAAM;4CAClC,WAAU;sDAET,0BACC;;kEACE,qZAAC;wDAAO,WAAU;;;;;;oDAAyB;;6EAI7C;;kEACE,qZAAC;wDAAK,WAAU;;;;;;oDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYlD;AAMA,SAAS,cAAc,EAAE,OAAO,EAAsB;IACpD,MAAM,YAAY,QAAQ,SAAS,KAAK;IACxC,MAAM,YAAY,IAAI,KAAK,QAAQ,SAAS,EAAE,kBAAkB,CAAC,SAAS;QACxE,MAAM;QACN,QAAQ;IACV;IAEA,qBACE,qZAAC;QAAI,WAAW,CAAC,KAAK,EAAE,YAAY,gBAAgB,iBAAiB;kBACnE,cAAA,qZAAC;YACC,WAAW,CAAC,kCAAkC,EAC5C,YACI,yCACA,+DACJ;;8BAEF,qZAAC;oBAAE,WAAU;8BAA2C,QAAQ,OAAO;;;;;;8BACvE,qZAAC;oBACC,WAAW,CAAC,aAAa,EACvB,YAAY,kBAAkB,iBAC9B;8BAED;;;;;;;;;;;;;;;;;AAKX;AAEA,SAAS;IACP,qBACE,qZAAC;QAAI,WAAU;kBACb,cAAA,qZAAC;YAAI,WAAU;sBACb,cAAA,qZAAC;gBAAI,WAAU;;kCACb,qZAAC,iKAAQ;wBAAC,WAAU;;;;;;kCACpB,qZAAC,yJAAI;wBAAC,WAAU;;0CACd,qZAAC;gCAAI,WAAU;;kDACb,qZAAC,iKAAQ;wCAAC,WAAU;;;;;;kDACpB,qZAAC,iKAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAEtB,qZAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI,CAAC;oCAAE,QAAQ;gCAAE,GAAG,GAAG,CAAC,CAAC,GAAG,kBACjC,qZAAC;wCAEC,WAAW,CAAC,KAAK,EAAE,IAAI,MAAM,IAAI,gBAAgB,iBAAiB;kDAElE,cAAA,qZAAC,iKAAQ;4CAAC,WAAU;;;;;;uCAHf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYvB;AAEA,eAAe;AACf,MAAM,OAAO,CAAC,EAAE,SAAS,EAA0B,iBACjD,qZAAC;QAAI,OAAM;QAA6B,MAAK;QAAO,SAAQ;QAAY,aAAa;QAAK,QAAO;QAAe,WAAW;kBACzH,cAAA,qZAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,GAAE;;;;;;;;;;;AAIzD,MAAM,SAAS,CAAC,EAAE,SAAS,EAA0B,iBACnD,qZAAC;QAAI,OAAM;QAA6B,MAAK;QAAO,SAAQ;QAAY,WAAW;;0BACjF,qZAAC;gBAAO,WAAU;gBAAa,IAAG;gBAAK,IAAG;gBAAK,GAAE;gBAAK,QAAO;gBAAe,aAAY;;;;;;0BACxF,qZAAC;gBAAK,WAAU;gBAAa,MAAK;gBAAe,GAAE;;;;;;;;;;;;AAIvD,MAAM,gBAAgB,CAAC,EAAE,SAAS,EAA0B,iBAC1D,qZAAC;QAAI,OAAM;QAA6B,MAAK;QAAO,SAAQ;QAAY,aAAa;QAAK,QAAO;QAAe,WAAW;kBACzH,cAAA,qZAAC;YAAK,eAAc;YAAQ,gBAAe;YAAQ,GAAE"}}]
}