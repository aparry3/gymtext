{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronparry/Developer/GymText/gymtext/apps/admin/src/context/EnvironmentContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useCallback, ReactNode } from 'react';\nimport Cookies from 'js-cookie';\n\ntype EnvironmentMode = 'production' | 'sandbox';\n\ninterface EnvironmentContextValue {\n  mode: EnvironmentMode;\n  setMode: (mode: EnvironmentMode) => void;\n  isProduction: boolean;\n  isSandbox: boolean;\n}\n\nconst EnvironmentContext = createContext<EnvironmentContextValue | null>(null);\n\nexport function EnvironmentProvider({\n  children,\n  initialMode,\n}: {\n  children: ReactNode;\n  initialMode: EnvironmentMode;\n}) {\n  const [mode, setModeState] = useState<EnvironmentMode>(initialMode);\n\n  const setMode = useCallback((newMode: EnvironmentMode) => {\n    setModeState(newMode);\n    Cookies.set('gt_env', newMode, {\n      expires: 30, // 30 days\n      sameSite: 'lax',\n      secure: process.env.NODE_ENV === 'production',\n    });\n  }, []);\n\n  return (\n    <EnvironmentContext.Provider\n      value={{\n        mode,\n        setMode,\n        isProduction: mode === 'production',\n        isSandbox: mode === 'sandbox',\n      }}\n    >\n      {children}\n    </EnvironmentContext.Provider>\n  );\n}\n\nexport function useEnvironment() {\n  const context = useContext(EnvironmentContext);\n  if (!context) {\n    throw new Error('useEnvironment must be used within EnvironmentProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAcA,MAAM,mCAAqB,IAAA,6XAAa,EAAiC;AAElE,SAAS,oBAAoB,EAClC,QAAQ,EACR,WAAW,EAIZ;IACC,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,wXAAQ,EAAkB;IAEvD,MAAM,UAAU,IAAA,2XAAW,EAAC,CAAC;QAC3B,aAAa;QACb,yNAAO,CAAC,GAAG,CAAC,UAAU,SAAS;YAC7B,SAAS;YACT,UAAU;YACV,QAAQ,oDAAyB;QACnC;IACF,GAAG,EAAE;IAEL,qBACE,qZAAC,mBAAmB,QAAQ;QAC1B,OAAO;YACL;YACA;YACA,cAAc,SAAS;YACvB,WAAW,SAAS;QACtB;kBAEC;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,0XAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}}]
}