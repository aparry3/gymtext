module.exports=[524836,(e,t,s)=>{t.exports=e.x("https",()=>require("https"))},446786,(e,t,s)=>{t.exports=e.x("os",()=>require("os"))},921517,(e,t,s)=>{t.exports=e.x("http",()=>require("http"))},504446,(e,t,s)=>{t.exports=e.x("net",()=>require("net"))},755004,(e,t,s)=>{t.exports=e.x("tls",()=>require("tls"))},792509,(e,t,s)=>{t.exports=e.x("url",()=>require("url"))},254799,(e,t,s)=>{t.exports=e.x("crypto",()=>require("crypto"))},967255,(e,t,s)=>{t.exports=e.x("pg",()=>require("pg"))},500874,(e,t,s)=>{t.exports=e.x("buffer",()=>require("buffer"))},522734,(e,t,s)=>{t.exports=e.x("fs",()=>require("fs"))},688947,(e,t,s)=>{t.exports=e.x("stream",()=>require("stream"))},427699,(e,t,s)=>{t.exports=e.x("events",()=>require("events"))},145706,(e,t,s)=>{t.exports=e.x("querystring",()=>require("querystring"))},406461,(e,t,s)=>{t.exports=e.x("zlib",()=>require("zlib"))},81111,(e,t,s)=>{t.exports=e.x("node:stream",()=>require("node:stream"))},666680,(e,t,s)=>{t.exports=e.x("node:crypto",()=>require("node:crypto"))},233405,(e,t,s)=>{t.exports=e.x("child_process",()=>require("child_process"))},564621,e=>{e.v({name:"gaxios",version:"7.1.3",description:"A simple common HTTP client specifically for Google APIs and services.",main:"build/cjs/src/index.js",types:"build/cjs/src/index.d.ts",files:["build/"],exports:{".":{import:{types:"./build/esm/src/index.d.ts",default:"./build/esm/src/index.js"},require:{types:"./build/cjs/src/index.d.ts",default:"./build/cjs/src/index.js"}}},scripts:{lint:"gts check --no-inline-config",test:"c8 mocha build/esm/test","presystem-test":"npm run compile","system-test":"mocha build/esm/system-test --timeout 80000",compile:"tsc -b ./tsconfig.json ./tsconfig.cjs.json && node utils/enable-esm.mjs",fix:"gts fix",prepare:"npm run compile",pretest:"npm run compile",webpack:"webpack","prebrowser-test":"npm run compile","browser-test":"node build/browser-test/browser-test-runner.js",docs:"jsdoc -c .jsdoc.js","docs-test":"linkinator docs","predocs-test":"npm run docs","samples-test":"cd samples/ && npm link ../ && npm test && cd ../",prelint:"cd samples; npm link ../; npm install",clean:"gts clean"},repository:{type:"git",directory:"packages/gaxios",url:"https://github.com/googleapis/google-cloud-node-core.git"},keywords:["google"],engines:{node:">=18"},author:"Google, LLC",license:"Apache-2.0",devDependencies:{"@babel/plugin-proposal-private-methods":"^7.18.6","@types/cors":"^2.8.6","@types/express":"^5.0.0","@types/extend":"^3.0.1","@types/mocha":"^10.0.10","@types/multiparty":"4.2.1","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","@types/tmp":"0.2.6",assert:"^2.0.0",browserify:"^17.0.0",c8:"^10.0.0",cors:"^2.8.5",express:"^5.0.0",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-remap-coverage":"^0.1.5","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",linkinator:"^6.1.2",mocha:"^11.1.0",multiparty:"^4.2.1",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.0-beta.13","null-loader":"^4.0.0","pack-n-play":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","stream-browserify":"^3.0.0",tmp:"0.2.5","ts-loader":"^9.5.2",typescript:"^5.8.3",webpack:"^5.35.0","webpack-cli":"^6.0.1"},dependencies:{extend:"^3.0.2","https-proxy-agent":"^7.0.1","node-fetch":"^3.3.2",rimraf:"^5.0.1"},homepage:"https://github.com/googleapis/google-cloud-node-core/tree/main/packages/gaxios"})},605365,(e,t,s)=>{t.exports=e.x("process",()=>require("process"))},885083,e=>{e.v({name:"google-auth-library",version:"10.5.0",author:"Google Inc.",description:"Google APIs Authentication Client Library for Node.js",engines:{node:">=18"},main:"./build/src/index.js",types:"./build/src/index.d.ts",repository:"googleapis/google-auth-library-nodejs.git",keywords:["google","api","google apis","client","client library"],dependencies:{"base64-js":"^1.3.0","ecdsa-sig-formatter":"^1.0.11",gaxios:"^7.0.0","gcp-metadata":"^8.0.0","google-logging-utils":"^1.0.0",gtoken:"^8.0.0",jws:"^4.0.0"},devDependencies:{"@types/base64-js":"^1.2.5","@types/jws":"^3.1.0","@types/mocha":"^10.0.10","@types/mv":"^2.1.0","@types/ncp":"^2.0.1","@types/node":"^22.0.0","@types/sinon":"^17.0.0","assert-rejects":"^1.0.0",c8:"^10.0.0",codecov:"^3.0.2",gts:"^6.0.0","is-docker":"^3.0.0",jsdoc:"^4.0.0","jsdoc-fresh":"^5.0.0","jsdoc-region-tag":"^4.0.0",karma:"^6.0.0","karma-chrome-launcher":"^3.0.0","karma-coverage":"^2.0.0","karma-firefox-launcher":"^2.0.0","karma-mocha":"^2.0.0","karma-sourcemap-loader":"^0.4.0","karma-webpack":"^5.0.1",keypair:"^1.0.4",mocha:"^11.1.0",mv:"^2.1.1",ncp:"^2.0.0",nock:"^14.0.5","null-loader":"^4.0.0",puppeteer:"^24.0.0",sinon:"^21.0.0","ts-loader":"^8.0.0",typescript:"5.8.2",webpack:"^5.21.2","webpack-cli":"^4.0.0"},files:["build/src","!build/src/**/*.map"],scripts:{test:"c8 mocha build/test",clean:"gts clean",prepare:"npm run compile",lint:"gts check --no-inline-config",compile:"tsc -p .",fix:"gts fix",pretest:"npm run compile -- --sourceMap",docs:"jsdoc -c .jsdoc.js","samples-setup":"cd samples/ && npm link ../ && npm run setup && cd ../","samples-test":"cd samples/ && npm link ../ && npm test && cd ../","system-test":"mocha build/system-test --timeout 60000","presystem-test":"npm run compile -- --sourceMap",webpack:"webpack","browser-test":"karma start","docs-test":"echo 'disabled until linkinator is fixed'","predocs-test":"npm run docs",prelint:"cd samples; npm link ../; npm install"},license:"Apache-2.0"})},924868,(e,t,s)=>{t.exports=e.x("fs/promises",()=>require("fs/promises"))},188646,(e,t,s)=>{t.exports=e.x("node:stream/promises",()=>require("node:stream/promises"))},221078,e=>{"use strict";var t=e.i(46308);class s extends t.BaseRepository{async getPromptPair(e){let t=await this.db.selectFrom("prompts").where("id","=",e).orderBy("createdAt","desc").selectAll().execute();if(0===t.length)return null;let s=t.find(e=>"system"===e.role),r=t.find(e=>"user"===e.role);return s?{systemPrompt:s.value,userPrompt:r?.value??null}:null}async getSystemPrompt(e){let t=await this.db.selectFrom("prompts").where("id","=",e).where("role","=","system").orderBy("createdAt","desc").limit(1).select("value").executeTakeFirst();return t?.value??null}async getUserPrompt(e){let t=await this.db.selectFrom("prompts").where("id","=",e).where("role","=","user").orderBy("createdAt","desc").limit(1).select("value").executeTakeFirst();return t?.value??null}async getContextPrompt(e){let t=await this.db.selectFrom("prompts").where("id","=",e).where("role","=","context").orderBy("createdAt","desc").limit(1).select("value").executeTakeFirst();return t?.value??null}async createPrompt(e){return this.db.insertInto("prompts").values(e).returningAll().executeTakeFirstOrThrow()}async createPrompts(e){0!==e.length&&await this.db.insertInto("prompts").values(e).execute()}async getPromptHistory(e,t,s=10){return this.db.selectFrom("prompts").where("id","=",e).where("role","=",t).orderBy("createdAt","desc").limit(s).selectAll().execute()}async getAllPromptIds(){return(await this.db.selectFrom("prompts").select("id").distinct().execute()).map(e=>e.id)}}let r=new s;e.s(["PromptRepository",()=>s,"promptRepository",0,r])},972210,e=>{"use strict";var t=e.i(221078);class s{static instance;cache=new Map;contextCache=new Map;constructor(){}static getInstance(){return s.instance||(s.instance=new s),s.instance}async getPrompts(e){let s=this.cache.get(e);if(s&&s.expiresAt>Date.now())return s.data;let r=await t.promptRepository.getPromptPair(e);if(!r)throw Error(`Prompt not found for agent '${e}'. All prompts must be seeded before use. Run the prompt seeding migration.`);return this.cache.set(e,{data:r,expiresAt:Date.now()+3e5}),r}async getContextPrompt(e){let s=`${e}:context`,r=this.contextCache.get(s);if(r&&r.expiresAt>Date.now())return r.data;let o=await t.promptRepository.getContextPrompt(e);return null!==o&&this.contextCache.set(s,{data:o,expiresAt:Date.now()+3e5}),o}invalidateCache(e){this.cache.delete(e),this.contextCache.delete(`${e}:context`)}clearCache(){this.cache.clear(),this.contextCache.clear()}}let r=s.getInstance();e.s(["promptService",0,r])},528046,(e,t,s)=>{t.exports=function(t){function s(e){let t,o,n,i=null;function c(...e){if(!c.enabled)return;let r=Number(new Date);c.diff=r-(t||r),c.prev=t,c.curr=r,t=r,e[0]=s.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if("%%"===t)return"%";o++;let n=s.formatters[r];if("function"==typeof n){let s=e[o];t=n.call(c,s),e.splice(o,1),o--}return t}),s.formatArgs.call(c,e),(c.log||s.log).apply(c,e)}return c.namespace=e,c.useColors=s.useColors(),c.color=s.selectColor(e),c.extend=r,c.destroy=s.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==s.namespaces&&(o=s.namespaces,n=s.enabled(e)),n),set:e=>{i=e}}),"function"==typeof s.init&&s.init(c),c}function r(e,t){let r=s(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function o(e,t){let s=0,r=0,o=-1,n=0;for(;s<e.length;)if(r<t.length&&(t[r]===e[s]||"*"===t[r]))"*"===t[r]?(o=r,n=s):s++,r++;else{if(-1===o)return!1;r=o+1,s=++n}for(;r<t.length&&"*"===t[r];)r++;return r===t.length}return s.debug=s,s.default=s,s.coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){let e=[...s.names,...s.skips.map(e=>"-"+e)].join(",");return s.enable(""),e},s.enable=function(e){for(let t of(s.save(e),s.namespaces=e,s.names=[],s.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===t[0]?s.skips.push(t.slice(1)):s.names.push(t)},s.enabled=function(e){for(let t of s.skips)if(o(e,t))return!1;for(let t of s.names)if(o(e,t))return!0;return!1},s.humanize=e.r(527577),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{s[e]=t[e]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s)|0;return s.colors[Math.abs(t)%s.colors.length]},s.enable(s.load()),s}},639606,(e,t,s)=>{let r=e.r(870722),o=e.r(224361);s.init=function(e){e.inspectOpts={};let t=Object.keys(s.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=s.inspectOpts[t[r]]},s.log=function(...e){return process.stderr.write(o.formatWithOptions(s.inspectOpts,...e)+"\n")},s.formatArgs=function(e){let{namespace:r,useColors:o}=this;if(o){let s=this.color,o="\x1b[3"+(s<8?s:"8;5;"+s),n=`  ${o};1m${r} \u001B[0m`;e[0]=n+e[0].split("\n").join("\n"+n),e.push(o+"m+"+t.exports.humanize(this.diff)+"\x1b[0m")}else e[0]=(s.inspectOpts.hideDate?"":new Date().toISOString()+" ")+r+" "+e[0]},s.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},s.load=function(){return process.env.DEBUG},s.useColors=function(){return"colors"in s.inspectOpts?!!s.inspectOpts.colors:r.isatty(process.stderr.fd)},s.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),s.colors=[6,2,3,4,5,1];try{let t=e.r(209596);t&&(t.stderr||t).level>=2&&(s.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}s.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let s=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[s]=r,e},{}),t.exports=e.r(528046)(s);let{formatters:n}=t.exports;n.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},n.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},892619,(e,t,s)=>{let r;s.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let s="color: "+this.color;e.splice(1,0,s,"color: inherit");let r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,s)},s.save=function(e){try{e?s.storage.setItem("debug",e):s.storage.removeItem("debug")}catch(e){}},s.load=function(){let e;try{e=s.storage.getItem("debug")||s.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},s.useColors=function(){let e;return!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch(e){}}(),r=!1,s.destroy=()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))},s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.log=console.debug||console.log||(()=>{}),t.exports=e.r(528046)(s);let{formatters:o}=t.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},250585,(e,t,s)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?t.exports=e.r(892619):t.exports=e.r(639606)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ec5f6b03._.js.map