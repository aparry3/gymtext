(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,748306,e=>{"use strict";var t=e.i(903334);function s({className:e="",variant:s="default",...a}){return(0,t.jsx)("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[s]} ${e}`,...a})}e.s(["Badge",()=>s])},758959,e=>{"use strict";var t=e.i(903334),s=e.i(784705);let a=s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("div",{ref:a,className:`rounded-2xl border-0 bg-white shadow-lg shadow-black/[0.03] ring-1 ring-black/[0.05] ${e}`,...s}));a.displayName="Card",s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("div",{ref:a,className:`flex flex-col space-y-1.5 p-6 ${e}`,...s})).displayName="CardHeader",s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("h3",{ref:a,className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...s})).displayName="CardTitle",s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("p",{ref:a,className:`text-sm text-muted-foreground ${e}`,...s})).displayName="CardDescription",s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("div",{ref:a,className:`p-6 pt-0 ${e}`,...s})).displayName="CardContent",s.forwardRef(({className:e="",...s},a)=>(0,t.jsx)("div",{ref:a,className:`flex items-center p-6 pt-0 ${e}`,...s})).displayName="CardFooter",e.s(["Card",()=>a])},29804,e=>{"use strict";var t=e.i(903334);let s=e.i(784705).forwardRef(({className:e="",...s},a)=>(0,t.jsx)("div",{ref:a,className:`animate-pulse rounded-md bg-muted ${e}`,...s}));s.displayName="Skeleton",e.s(["Skeleton",()=>s])},994253,e=>{"use strict";var t=e.i(903334),s=e.i(784705),a=e.i(291967),r=e.i(212749),i=e.i(567647),l=e.i(81441),n=new WeakMap;function o(e,t){var s,a;let r,i,l;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let n=(s=e,a=t,r=s.length,(l=(i=d(a))>=0?i:r+i)<0||l>=r?-1:l);return -1===n?void 0:e[n]}function d(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],n.set(this,!0)}set(e,t){return n.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,s){let a,r=this.has(t),i=this.#e.length,l=d(e),n=l>=0?l:i+l,o=n<0||n>=i?-1:n;if(o===this.size||r&&o===this.size-1||-1===o)return this.set(t,s),this;let c=this.size+ +!r;l<0&&n++;let u=[...this.#e],h=!1;for(let e=n;e<c;e++)if(n===e){let i=u[e];u[e]===t&&(i=u[e+1]),r&&this.delete(t),a=this.get(i),this.set(t,s)}else{h||u[e-1]!==t||(h=!0);let s=u[h?e:e-1],r=a;a=this.get(s),this.delete(s),this.set(s,r)}return this}with(t,s,a){let r=new e(this);return r.insert(t,s,a),r}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,s){let a=this.#e.indexOf(e);return -1===a?this:this.insert(a,t,s)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,s){let a=this.#e.indexOf(e);return -1===a?this:this.insert(a+1,t,s)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=o(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=o(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return o(this.#e,e)}from(e,t){let s=this.indexOf(e);if(-1===s)return;let a=s+t;return a<0&&(a=0),a>=this.size&&(a=this.size-1),this.at(a)}keyFrom(e,t){let s=this.indexOf(e);if(-1===s)return;let a=s+t;return a<0&&(a=0),a>=this.size&&(a=this.size-1),this.keyAt(a)}find(e,t){let s=0;for(let a of this){if(Reflect.apply(e,t,[a,s,this]))return a;s++}}findIndex(e,t){let s=0;for(let a of this){if(Reflect.apply(e,t,[a,s,this]))return s;s++}return -1}filter(t,s){let a=[],r=0;for(let e of this)Reflect.apply(t,s,[e,r,this])&&a.push(e),r++;return new e(a)}map(t,s){let a=[],r=0;for(let e of this)a.push([e[0],Reflect.apply(t,s,[e,r,this])]),r++;return new e(a)}reduce(...e){let[t,s]=e,a=0,r=s??this.at(0);for(let s of this)r=0===a&&1===e.length?s:Reflect.apply(t,this,[r,s,a,this]),a++;return r}reduceRight(...e){let[t,s]=e,a=s??this.at(-1);for(let s=this.size-1;s>=0;s--){let r=this.at(s);a=s===this.size-1&&1===e.length?r:Reflect.apply(t,this,[a,r,s,this])}return a}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let s=this.keyAt(e),a=this.get(s);t.set(s,a)}return t}toSpliced(...t){let s=[...this.entries()];return s.splice(...t),new e(s)}slice(t,s){let a=new e,r=this.size-1;if(void 0===t)return a;t<0&&(t+=this.size),void 0!==s&&s>0&&(r=s-1);for(let e=t;e<=r;e++){let t=this.keyAt(e),s=this.get(t);a.set(t,s)}return a}every(e,t){let s=0;for(let a of this){if(!Reflect.apply(e,t,[a,s,this]))return!1;s++}return!0}some(e,t){let s=0;for(let a of this){if(Reflect.apply(e,t,[a,s,this]))return!0;s++}return!1}});var c=e.i(748479),u=e.i(122816),h=e.i(994911),m=e.i(156565),x=s.createContext(void 0);function f(e){let t=s.useContext(x);return e||t||"ltr"}var p="rovingFocusGroup.onEntryFocus",v={bubbles:!1,cancelable:!0},g="RovingFocusGroup",[b,y,j]=function(e){let a=e+"CollectionProvider",[n,o]=(0,r.createContextScope)(a),[d,c]=n(a,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:a,children:r}=e,i=s.default.useRef(null),l=s.default.useRef(new Map).current;return(0,t.jsx)(d,{scope:a,itemMap:l,collectionRef:i,children:r})};u.displayName=a;let h=e+"CollectionSlot",m=(0,l.createSlot)(h),x=s.default.forwardRef((e,s)=>{let{scope:a,children:r}=e,l=c(h,a),n=(0,i.useComposedRefs)(s,l.collectionRef);return(0,t.jsx)(m,{ref:n,children:r})});x.displayName=h;let f=e+"CollectionItemSlot",p="data-radix-collection-item",v=(0,l.createSlot)(f),g=s.default.forwardRef((e,a)=>{let{scope:r,children:l,...n}=e,o=s.default.useRef(null),d=(0,i.useComposedRefs)(a,o),u=c(f,r);return s.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...n}),()=>void u.itemMap.delete(o))),(0,t.jsx)(v,{...{[p]:""},ref:d,children:l})});return g.displayName=f,[{Provider:u,Slot:x,ItemSlot:g},function(t){let a=c(e+"CollectionConsumer",t);return s.default.useCallback(()=>{let e=a.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(a.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[a.collectionRef,a.itemMap])},o]}(g),[w,N]=(0,r.createContextScope)(g,[j]),[k,C]=w(g),R=s.forwardRef((e,s)=>(0,t.jsx)(b.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(b.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(S,{...e,ref:s})})}));R.displayName=g;var S=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:l,orientation:n,loop:o=!1,dir:d,currentTabStopId:c,defaultCurrentTabStopId:x,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:w=!1,...N}=e,C=s.useRef(null),R=(0,i.useComposedRefs)(r,C),S=f(d),[T,D]=(0,m.useControllableState)({prop:c,defaultProp:x??null,onChange:b,caller:g}),[M,E]=s.useState(!1),F=(0,h.useCallbackRef)(j),I=y(l),$=s.useRef(!1),[L,z]=s.useState(0);return s.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(p,F),()=>e.removeEventListener(p,F)},[F]),(0,t.jsx)(k,{scope:l,orientation:n,dir:S,loop:o,currentTabStopId:T,onItemFocus:s.useCallback(e=>D(e),[D]),onItemShiftTab:s.useCallback(()=>E(!0),[]),onFocusableItemAdd:s.useCallback(()=>z(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>z(e=>e-1),[]),children:(0,t.jsx)(u.Primitive.div,{tabIndex:M||0===L?-1:0,"data-orientation":n,...N,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{$.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!$.current;if(e.target===e.currentTarget&&t&&!M){let t=new CustomEvent(p,v);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=I().filter(e=>e.focusable);A([e.find(e=>e.active),e.find(e=>e.id===T),...e].filter(Boolean).map(e=>e.ref.current),w)}}$.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>E(!1))})})}),T="RovingFocusGroupItem",D=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,focusable:l=!0,active:n=!1,tabStopId:o,children:d,...h}=e,m=(0,c.useId)(),x=o||m,f=C(T,i),p=f.currentTabStopId===x,v=y(i),{onFocusableItemAdd:g,onFocusableItemRemove:j,currentTabStopId:w}=f;return s.useEffect(()=>{if(l)return g(),()=>j()},[l,g,j]),(0,t.jsx)(b.ItemSlot,{scope:i,id:x,focusable:l,active:n,children:(0,t.jsx)(u.Primitive.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...h,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{l?f.onItemFocus(x):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>f.onItemFocus(x)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void f.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var a;let r=(a=e.key,"rtl"!==s?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return M[r]}(e,f.orientation,f.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var s,a;"prev"===t&&r.reverse();let i=r.indexOf(e.currentTarget);r=f.loop?(s=r,a=i+1,s.map((e,t)=>s[(a+t)%s.length])):r.slice(i+1)}setTimeout(()=>A(r))}}),children:"function"==typeof d?d({isCurrentTabStop:p,hasTabStop:null!=w}):d})})});D.displayName=T;var M={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(e,t=!1){let s=document.activeElement;for(let a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}var E=e.i(976546),F="Tabs",[I,$]=(0,r.createContextScope)(F,[N]),L=N(),[z,P]=I(F),H=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:i,defaultValue:l,orientation:n="horizontal",dir:o,activationMode:d="automatic",...h}=e,x=f(o),[p,v]=(0,m.useControllableState)({prop:r,onChange:i,defaultProp:l??"",caller:F});return(0,t.jsx)(z,{scope:a,baseId:(0,c.useId)(),value:p,onValueChange:v,orientation:n,dir:x,activationMode:d,children:(0,t.jsx)(u.Primitive.div,{dir:x,"data-orientation":n,...h,ref:s})})});H.displayName=F;var O="TabsList",W=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...i}=e,l=P(O,a),n=L(a);return(0,t.jsx)(R,{asChild:!0,...n,orientation:l.orientation,dir:l.dir,loop:r,children:(0,t.jsx)(u.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:s})})});W.displayName=O;var B="TabsTrigger",q=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:i,disabled:l=!1,...n}=e,o=P(B,r),d=L(r),c=V(o.baseId,i),h=G(o.baseId,i),m=i===o.value;return(0,t.jsx)(D,{asChild:!0,...d,focusable:!l,active:m,children:(0,t.jsx)(u.Primitive.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c,...n,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(i)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(i)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;m||l||!e||o.onValueChange(i)})})})});q.displayName=B;var U="TabsContent",K=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:i,forceMount:l,children:n,...o}=e,d=P(U,r),c=V(d.baseId,i),h=G(d.baseId,i),m=i===d.value,x=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(E.Presence,{present:l||m,children:({present:s})=>(0,t.jsx)(u.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:h,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&n})})});function V(e,t){return`${e}-trigger-${t}`}function G(e,t){return`${e}-content-${t}`}K.displayName=U;var _=e.i(8693);let Z=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(W,{ref:a,className:(0,_.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));Z.displayName=W.displayName;let X=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(q,{ref:a,className:(0,_.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));X.displayName=q.displayName;let Q=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(K,{ref:a,className:(0,_.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));Q.displayName=K.displayName,e.s(["Tabs",()=>H,"TabsContent",()=>Q,"TabsList",()=>Z,"TabsTrigger",()=>X],994253)},487875,e=>{"use strict";let t=(0,e.i(158569).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],487875)},157749,e=>{"use strict";let t=(0,e.i(158569).default)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);e.s(["Activity",()=>t],157749)},450324,233999,e=>{"use strict";e.i(283789);var t=e.i(903334),s=e.i(748306);function a({title:e,subtitle:a,status:r}){return(0,t.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:e}),a&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2 sm:mt-0",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-[hsl(var(--sidebar-accent))] uppercase tracking-wide",children:"Status"}),(0,t.jsxs)(s.Badge,{variant:"outline",className:"border-[hsl(var(--sidebar-accent))] text-[hsl(var(--sidebar-accent))]",children:[r.label,void 0!==r.weekNumber&&` • Week ${r.weekNumber}`]})]})]})}e.s(["MeHeader",()=>a],233999),e.s([],450324)},883104,e=>{"use strict";var t=e.i(784705),s=e.i(291967),a=e.i(212749),r=e.i(156565),i=e.i(320656),l=e.i(567647),n=e.i(122816),o=e.i(976546),d=e.i(748479),c=e.i(903334),u="Collapsible",[h,m]=(0,a.createContextScope)(u),[x,f]=h(u),p=t.forwardRef((e,s)=>{let{__scopeCollapsible:a,open:i,defaultOpen:l,disabled:o,onOpenChange:h,...m}=e,[f,p]=(0,r.useControllableState)({prop:i,defaultProp:l??!1,onChange:h,caller:u});return(0,c.jsx)(x,{scope:a,disabled:o,contentId:(0,d.useId)(),open:f,onOpenToggle:t.useCallback(()=>p(e=>!e),[p]),children:(0,c.jsx)(n.Primitive.div,{"data-state":w(f),"data-disabled":o?"":void 0,...m,ref:s})})});p.displayName=u;var v="CollapsibleTrigger",g=t.forwardRef((e,t)=>{let{__scopeCollapsible:a,...r}=e,i=f(v,a);return(0,c.jsx)(n.Primitive.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":w(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:(0,s.composeEventHandlers)(e.onClick,i.onOpenToggle)})});g.displayName=v;var b="CollapsibleContent",y=t.forwardRef((e,t)=>{let{forceMount:s,...a}=e,r=f(b,e.__scopeCollapsible);return(0,c.jsx)(o.Presence,{present:s||r.open,children:({present:e})=>(0,c.jsx)(j,{...a,ref:t,present:e})})});y.displayName=b;var j=t.forwardRef((e,s)=>{let{__scopeCollapsible:a,present:r,children:o,...d}=e,u=f(b,a),[h,m]=t.useState(r),x=t.useRef(null),p=(0,l.useComposedRefs)(s,x),v=t.useRef(0),g=v.current,y=t.useRef(0),j=y.current,N=u.open||h,k=t.useRef(N),C=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,i.useLayoutEffect)(()=>{let e=x.current;if(e){C.current=C.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();v.current=t.height,y.current=t.width,k.current||(e.style.transitionDuration=C.current.transitionDuration,e.style.animationName=C.current.animationName),m(r)}},[u.open,r]),(0,c.jsx)(n.Primitive.div,{"data-state":w(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!N,...d,ref:p,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:N&&o})});function w(e){return e?"open":"closed"}e.s(["Collapsible",()=>p,"CollapsibleContent",()=>y,"CollapsibleTrigger",()=>g],883104)},256116,e=>{"use strict";var t=e.i(903334),s=e.i(784705);e.i(450324);var a=e.i(233999),r=e.i(158569);let i=(0,r.default)("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]),l=(0,r.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);function n({dayLabel:e,workoutTitle:s,workoutFocus:a,isRestDay:r=!1,isLoading:n=!1,onStartWorkout:o}){return n?(0,t.jsx)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[hsl(213,94%,58%)] to-[hsl(213,94%,48%)] p-6 text-white animate-pulse",children:(0,t.jsxs)("div",{className:"relative z-10 space-y-4",children:[(0,t.jsx)("div",{className:"h-4 w-20 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-10 w-3/4 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-10 w-40 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-4 w-64 bg-white/20 rounded mt-6"})]})}):r?(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-slate-700 to-slate-800 p-6 text-white",children:[(0,t.jsx)("div",{className:"absolute right-4 bottom-4 opacity-10",children:(0,t.jsx)(l,{className:"h-32 w-32"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"text-xs font-semibold tracking-wider opacity-80 uppercase",children:e}),(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mt-2 mb-4",children:"Rest Day"}),(0,t.jsx)("p",{className:"text-sm opacity-70 max-w-md",children:"Recovery is when growth happens. Take it easy, stay active with light movement, and come back stronger."})]})]}):(0,t.jsxs)("div",{onClick:o,onKeyDown:e=>"Enter"===e.key&&o?.(),role:"button",tabIndex:0,className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[hsl(213,94%,58%)] to-[hsl(213,94%,48%)] p-6 text-white cursor-pointer hover:from-[hsl(213,94%,62%)] hover:to-[hsl(213,94%,52%)] transition-colors",children:[(0,t.jsx)("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-1/4 translate-y-1/4",children:(0,t.jsx)(i,{className:"h-48 w-48"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("span",{className:"text-xs font-semibold tracking-wider opacity-80 uppercase",children:e}),(0,t.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mt-2 mb-2",children:s||"Workout"}),a&&(0,t.jsx)("p",{className:"text-sm opacity-80 mb-4",children:a}),(0,t.jsx)("p",{className:"text-sm mt-6 opacity-70",children:"Tap to view full breakdown and tracking details."})]})]})}var o=e.i(758959),d=e.i(748306);let c=(0,r.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function u({title:e,focus:s,description:a,isRestDay:r=!1,isLoading:i=!1}){return i?(0,t.jsxs)(o.Card,{className:"p-4 bg-card animate-pulse",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("div",{className:"h-4 w-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-3 w-20 bg-muted rounded"})]}),(0,t.jsx)("div",{className:"h-5 w-32 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-4 w-16 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted rounded"})]}):r?(0,t.jsxs)(o.Card,{className:"p-4 bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-3",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Tomorrow"})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-foreground mb-1",children:"Rest Day"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recovery and light activity scheduled."})]}):(0,t.jsxs)(o.Card,{className:"p-4 bg-card",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-3",children:[(0,t.jsx)(c,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Tomorrow"})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-foreground mb-1",children:e||"Workout"}),s&&(0,t.jsx)(d.Badge,{variant:"outline",className:"text-[hsl(var(--sidebar-accent))] border-[hsl(var(--sidebar-accent))] mb-2",children:s}),a&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a})]})}let h=[{text:"Discipline is doing what needs to be done, even if you don't want to do it.",author:"Unknown"},{text:"The only bad workout is the one that didn't happen.",author:"Unknown"},{text:"Strength does not come from physical capacity. It comes from an indomitable will.",author:"Mahatma Gandhi"}];function m({text:e,author:s,isLoading:a=!1}){if(a)return(0,t.jsx)(o.Card,{className:"p-4 bg-card animate-pulse",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 w-full bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 w-3/4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-3 w-24 bg-muted rounded mt-2"})]})});let r=e?{text:e,author:s||"Unknown"}:h[Math.floor(Math.random()*h.length)];return(0,t.jsx)(o.Card,{className:"p-4 bg-card",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute -top-1 -left-1 text-4xl text-[hsl(var(--sidebar-accent))]/20 font-serif",children:"“"}),(0,t.jsx)("p",{className:"text-sm italic text-foreground leading-relaxed pl-4",children:r.text}),(0,t.jsxs)("p",{className:"text-xs text-[hsl(var(--sidebar-accent))] font-medium mt-3 pl-4",children:["— ",r.author]})]})})}function x({title:e="Track of the Day",subtitle:s="GymText Curated Playlist",spotifyUrl:a="https://open.spotify.com/playlist/37i9dQZF1DX76Wlfdnj7AP",isLoading:r=!1}){return r?(0,t.jsx)("div",{className:"rounded-2xl p-4 bg-[#1DB954] text-white animate-pulse shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-8 w-8 bg-white/20 rounded-full"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 w-24 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-3 w-32 bg-white/20 rounded"})]})]})}):(0,t.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,t.jsx)("div",{className:"rounded-2xl p-4 bg-[#1DB954] text-white hover:bg-[#1aa34a] transition-colors cursor-pointer shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:"/spotify-logo-white.svg",alt:"Spotify",className:"h-8 w-8"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e}),(0,t.jsx)("p",{className:"text-sm opacity-80",children:s})]})]})})})}var f=e.i(29804);function p(){return(0,t.jsxs)("div",{className:"p-4 md:p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Skeleton,{className:"h-8 w-32 mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-4 w-48"})]}),(0,t.jsx)(f.Skeleton,{className:"h-6 w-32 mt-2 sm:mt-0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Skeleton,{className:"h-5 w-32 mb-4"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)("div",{className:"rounded-2xl bg-gradient-to-br from-[hsl(213,94%,58%)] to-[hsl(213,94%,48%)] p-6 animate-pulse",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-4 w-20 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-10 w-3/4 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-10 w-40 bg-white/20 rounded"}),(0,t.jsx)("div",{className:"h-4 w-64 bg-white/20 rounded mt-6"})]})})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(o.Card,{className:"p-4",children:[(0,t.jsx)(f.Skeleton,{className:"h-4 w-20 mb-3"}),(0,t.jsx)(f.Skeleton,{className:"h-5 w-32 mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-4 w-16 mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-3 w-full"})]}),(0,t.jsxs)(o.Card,{className:"p-4",children:[(0,t.jsx)(f.Skeleton,{className:"h-4 w-full mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-4 w-3/4 mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-3 w-24"})]}),(0,t.jsx)(o.Card,{className:"p-4 bg-[hsl(143,85%,42%)]",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(f.Skeleton,{className:"h-10 w-10 rounded-full bg-white/20"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Skeleton,{className:"h-4 w-24 bg-white/20"}),(0,t.jsx)(f.Skeleton,{className:"h-3 w-32 bg-white/20"})]})]})})]})]})]})]})}var v=e.i(819991);let g=(0,r.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),b=(0,r.default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),y=(0,r.default)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),j=(0,r.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function w({userId:e}){let[a,r]=(0,s.useState)(null),[i,l]=(0,s.useState)(!0),[n,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),h=(0,s.useCallback)(async()=>{try{l(!0),u(null);let t=await fetch(`/api/users/${e}/referral`);if(!t.ok)throw Error("Failed to fetch referral stats");let s=await t.json();if(s.success)r(s.data);else throw Error(s.message||"Failed to fetch referral stats")}catch(e){console.error("Error fetching referral stats:",e),u("Failed to load referral info")}finally{l(!1)}},[e]);(0,s.useEffect)(()=>{h()},[h]);let m=async()=>{if(a)try{await navigator.clipboard.writeText(a.referralLink),d(!0),setTimeout(()=>d(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};if(i)return(0,t.jsx)(o.Card,{className:"p-4 bg-card animate-pulse",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 w-32 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-8 w-full bg-muted rounded"}),(0,t.jsx)("div",{className:"h-2 w-full bg-muted rounded"}),(0,t.jsx)("div",{className:"h-3 w-24 bg-muted rounded"})]})});if(c||!a)return(0,t.jsx)(o.Card,{className:"p-4 bg-card",children:(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:c||"Unable to load referral info"})});let x=a.creditsEarned/12*100;return(0,t.jsx)(o.Card,{className:"p-4 bg-card",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(y,{className:"w-4 h-4 text-[hsl(var(--sidebar-accent))]"}),(0,t.jsx)("span",{className:"text-sm font-medium text-foreground",children:"Refer Friends"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Share your link and you both get a free month!"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-muted/50 rounded-md px-3 py-2 text-xs font-mono text-foreground truncate",children:a.referralLink}),(0,t.jsx)(v.Button,{variant:"outline",size:"sm",onClick:m,className:"shrink-0",children:n?(0,t.jsx)(b,{className:"w-4 h-4 text-green-500"}):(0,t.jsx)(g,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-[hsl(var(--sidebar-accent))] transition-all duration-300",style:{width:`${x}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(j,{className:"w-3 h-3"}),a.completedReferrals," referred"]}),(0,t.jsxs)("span",{children:[a.creditsEarned,"/",12," months earned"]})]})]})]})})}var N=e.i(253593),k=e.i(994253);let C=(0,r.default)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),R=(0,r.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var S=e.i(893960),T=e.i(883104);let D=(0,r.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var M=e.i(8693);function A({number:e,name:s,setsReps:a,tags:r=[],isOpen:i,onToggle:l,children:n}){let o=r.slice(0,2);return(0,t.jsx)(T.Collapsible,{open:i,onOpenChange:l,children:(0,t.jsxs)("div",{className:(0,M.cn)("border rounded-xl transition-colors",i?"border-[hsl(var(--sidebar-accent))]/30 bg-card":"border-border bg-card"),children:[(0,t.jsx)(T.CollapsibleTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:"w-full p-4 flex items-center justify-between text-left hover:bg-muted/30 transition-colors rounded-xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground font-mono",children:["#",e.toString().padStart(2,"0")]}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("h4",{className:(0,M.cn)("font-semibold text-foreground",!i&&"truncate"),children:s}),!i&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[a&&(0,t.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--sidebar-accent))]",children:a}),o.map((e,s)=>(0,t.jsx)(d.Badge,{variant:"outline",className:"text-xs",children:e},s))]})]})]}),(0,t.jsx)(D,{className:(0,M.cn)("h-5 w-5 text-muted-foreground transition-transform flex-shrink-0",i&&"rotate-180")})]})}),(0,t.jsx)(T.CollapsibleContent,{children:(0,t.jsx)("div",{className:"px-4 pb-4",children:n})})]})})}let E=(0,r.default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var F=e.i(487875);let I=(0,r.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var $=e.i(157749);let L=(0,r.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function z({tags:e=[],sets:s,reps:a,rest:r,intensity:i,notes:l}){return(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border/50",children:[e.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,s)=>(0,t.jsx)(d.Badge,{variant:"secondary",className:"text-xs uppercase tracking-wide",children:e},s))}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[s&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-muted-foreground mb-1",children:[(0,t.jsx)(E,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs uppercase tracking-wide",children:"Sets"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-foreground",children:s})]}),a&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-muted-foreground mb-1",children:[(0,t.jsx)(F.RefreshCw,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs uppercase tracking-wide",children:"Reps"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-foreground",children:a})]}),r&&(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1.5 text-muted-foreground mb-1",children:[(0,t.jsx)(I,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs uppercase tracking-wide",children:"Rest"})]}),(0,t.jsx)("p",{className:"text-lg font-bold text-foreground",children:r})]})]}),i&&i.value&&(0,t.jsxs)("div",{className:"bg-[hsl(var(--sidebar-accent))]/5 border border-[hsl(var(--sidebar-accent))]/20 rounded-lg p-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-[hsl(var(--sidebar-accent))] mb-1",children:[(0,t.jsx)($.Activity,{className:"h-3.5 w-3.5"}),(0,t.jsx)("span",{className:"text-xs uppercase tracking-wide font-medium",children:"Intensity / Target"})]}),(0,t.jsx)("p",{className:"font-medium text-foreground",children:(()=>{if(!i||!i.value)return null;let e=i.value;return i.type&&"Other"!==i.type&&(e=`${i.type} ${i.value}`),i.description&&(e+=` (${i.description})`),e})()})]}),l&&(0,t.jsxs)("div",{className:"flex gap-2 text-muted-foreground",children:[(0,t.jsx)(L,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("p",{className:"text-sm italic leading-relaxed",children:["“",l,"”"]})]})]})}function P({description:e}){return e?(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-sans text-sm leading-relaxed text-foreground bg-muted/30 p-4 rounded-lg",children:e})}):(0,t.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,t.jsx)("p",{children:"No text content available for this workout."})})}let H=(0,r.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function O({title:e,exerciseCount:s,isOpen:a,onToggle:r,children:i}){return(0,t.jsxs)(T.Collapsible,{open:a,onOpenChange:r,children:[(0,t.jsx)(T.CollapsibleTrigger,{asChild:!0,children:(0,t.jsxs)("button",{className:"w-full flex items-center gap-3 py-2 text-[hsl(var(--sidebar-foreground))]",children:[(0,t.jsx)("div",{className:(0,M.cn)("flex items-center justify-center w-8 h-8 rounded-lg border transition-colors",a?"bg-[hsl(var(--sidebar-accent))] border-[hsl(var(--sidebar-accent))]":"bg-transparent border-[hsl(var(--sidebar-border))]"),children:a?(0,t.jsx)(H,{className:"h-4 w-4 text-white"}):(0,t.jsx)(D,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsx)("span",{className:"text-sm font-medium uppercase tracking-wide",children:e}),(0,t.jsx)("span",{className:"flex items-center justify-center min-w-[24px] h-6 px-2 text-xs font-medium rounded-full bg-[hsl(var(--sidebar-muted))] text-muted-foreground",children:s})]})}),(0,t.jsx)(T.CollapsibleContent,{children:(0,t.jsx)("div",{className:"mt-2 space-y-3",children:i})})]})}function W({open:e,onClose:a,workoutId:r,userId:i,dayLabel:l}){let[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[m,x]=(0,s.useState)(new Set);(0,s.useEffect)(()=>{e&&r&&(async()=>{o(!0);try{let e=await fetch(`/api/users/${i}/workouts/${r}`);if(e.ok){let t=await e.json();c(t.data)}}catch(e){console.error("Error fetching workout:",e)}finally{o(!1)}})()},[e,r,i]),(0,s.useEffect)(()=>{if(d?.structured?.sections){let e=new Set;d.structured.sections.forEach((t,s)=>{let a;(a=t.title.toLowerCase()).includes("warm")||a.includes("cool")||e.add(s)}),x(e)}},[d]),(0,s.useEffect)(()=>{e||h(null)},[e]);let p=d?.structured?.sections||[],g=(0,s.useMemo)(()=>p.some(e=>e.exercises.length>0),[p]);return(0,t.jsx)(N.Sheet,{open:e,onOpenChange:e=>!e&&a(),children:(0,t.jsxs)(N.SheetContent,{side:"right",className:"w-full sm:max-w-lg p-0 flex flex-col bg-[hsl(var(--sidebar-bg))] text-[hsl(var(--sidebar-foreground))] border-l-0",hideCloseButton:!0,children:[(0,t.jsx)(N.SheetHeader,{className:"p-4 border-b border-[hsl(var(--sidebar-border))] flex-shrink-0 text-left",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-[hsl(var(--sidebar-accent))] uppercase tracking-wide",children:l}),(0,t.jsx)(N.SheetTitle,{className:"text-lg font-bold text-[hsl(var(--sidebar-foreground))] mt-1",children:n?(0,t.jsx)(f.Skeleton,{className:"h-6 w-40 bg-[hsl(var(--sidebar-muted))]"}):d?.structured?.title||d?.goal||"Workout"})]}),(0,t.jsx)(v.Button,{variant:"ghost",size:"icon",onClick:a,className:"text-[hsl(var(--sidebar-foreground))] hover:bg-[hsl(var(--sidebar-muted))]",children:(0,t.jsx)(S.X,{className:"h-5 w-5"})})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:n?(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsx)(f.Skeleton,{className:"h-10 w-full bg-[hsl(var(--sidebar-muted))]"}),Array.from({length:4}).map((e,s)=>(0,t.jsx)(f.Skeleton,{className:"h-20 w-full bg-[hsl(var(--sidebar-muted))]"},s))]}):(0,t.jsxs)(k.Tabs,{defaultValue:"breakdown",className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"px-4 pt-4 pb-2",children:(0,t.jsxs)(k.TabsList,{className:"w-full bg-[hsl(var(--sidebar-muted))]",children:[(0,t.jsxs)(k.TabsTrigger,{value:"breakdown",className:"flex-1 gap-2 data-[state=active]:bg-[hsl(var(--sidebar-accent))] data-[state=active]:text-white",children:[(0,t.jsx)(C,{className:"h-4 w-4"}),"Breakdown"]}),(0,t.jsxs)(k.TabsTrigger,{value:"text",className:"flex-1 gap-2 data-[state=active]:bg-[hsl(var(--sidebar-muted))] data-[state=active]:text-[hsl(var(--sidebar-foreground))]",children:[(0,t.jsx)(R,{className:"h-4 w-4"}),"Text View"]})]})}),(0,t.jsx)(k.TabsContent,{value:"breakdown",className:"flex-1 p-4 pt-2 mt-0",children:g?(0,t.jsx)("div",{className:"space-y-4",children:p.map((e,s)=>0===e.exercises.length?null:(0,t.jsx)(O,{title:e.title,exerciseCount:e.exercises.length,isOpen:m.has(s),onToggle:()=>{x(e=>{let t=new Set(e);return t.has(s)?t.delete(s):t.add(s),t})},children:e.exercises.map((e,a)=>{let r=e.id||`${s}-${a}`;return(0,t.jsx)(A,{number:a+1,name:e.name,setsReps:e.sets&&e.reps?`${e.sets} \xd7 ${e.reps}`:e.duration?e.duration:e.distance?e.distance:"",tags:e.tags,isOpen:u===r,onToggle:()=>h(u===r?null:r),children:(0,t.jsx)(z,{tags:e.tags,sets:e.sets,reps:e.reps,rest:e.rest,intensity:e.intensity,notes:e.notes})},r)})},s))}):(0,t.jsxs)("div",{className:"text-center py-8 text-[hsl(var(--sidebar-foreground))]/60",children:[(0,t.jsx)("p",{children:"No structured breakdown available."}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Try the Text View instead."})]})}),(0,t.jsx)(k.TabsContent,{value:"text",className:"flex-1 p-4 pt-2 mt-0",children:(0,t.jsx)("div",{className:"bg-[hsl(var(--sidebar-muted))] rounded-lg p-4",children:(0,t.jsx)(P,{description:d?.description||void 0})})})]})})]})})}function B({userId:e,initialWorkoutId:r}){let[i,l]=(0,s.useState)(!0),[o,d]=(0,s.useState)(null),[c,h]=(0,s.useState)(null),[f,v]=(0,s.useState)(!!r),[g,b]=(0,s.useState)(r||null),y=(0,s.useCallback)(async()=>{try{let t,s;l(!0),d(null);let a=new Date,r=new Date(a);r.setDate(r.getDate()+1);let i=await fetch(`/api/users/${e}/workouts`);if(!i.ok)throw Error("Failed to fetch workouts");let n=(await i.json()).data||[],o=a.toLocaleDateString("en-CA"),c=r.toLocaleDateString("en-CA"),u=n.find(e=>e.date.startsWith(o))||null,m=n.find(e=>e.date.startsWith(c))||null,x=await fetch(`/api/users/${e}/fitness-plan`),f="Strength + Lean Build Phase",p=1;if(x.ok){let e=await x.json();e.data&&(f=e.data.structure?.name||f)}let v=await fetch(`/api/users/${e}/microcycle`);if(v.ok){let e=await v.json();e.data?.absoluteWeek&&(p=e.data.absoluteWeek);let i=e.data?.structured?.days||[];if(i.length>0){let e=a.toLocaleDateString("en-US",{weekday:"long"}),l=r.toLocaleDateString("en-US",{weekday:"long"}),n=i.find(t=>t.day===e),o=i.find(e=>e.day===l);n&&(t={focus:n.focus,activityType:n.activityType}),o&&(s={focus:o.focus,activityType:o.activityType})}}h({todayWorkout:u,tomorrowWorkout:m,isRestDayToday:t?.activityType==="REST"||u?.sessionType==="rest"||!u,isRestDayTomorrow:s?.activityType==="REST"||m?.sessionType==="rest"||!m,weekNumber:p,programPhase:f,quote:u?.structure?.quote,todayFocus:t,tomorrowFocus:s})}catch(e){console.error("Error fetching dashboard data:",e),d("Failed to load dashboard data")}finally{l(!1)}},[e]);if((0,s.useEffect)(()=>{y()},[y]),i)return(0,t.jsx)(p,{});if(o)return(0,t.jsx)("div",{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-lg text-muted-foreground mb-4",children:o}),(0,t.jsx)("button",{onClick:y,className:"text-primary hover:underline",children:"Try again"})]})});let j=new Date().toLocaleDateString("en-US",{weekday:"long"}).toUpperCase();return(0,t.jsxs)("div",{className:"p-4 md:p-6 space-y-6",children:[(0,t.jsx)(a.MeHeader,{title:"Dashboard",subtitle:c?.programPhase,status:{label:"Active",weekNumber:c?.weekNumber}}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Today's Mission"}),(0,t.jsx)("span",{className:"text-sm font-medium text-[hsl(var(--sidebar-accent))]",children:j})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsx)(n,{dayLabel:j,workoutTitle:c?.todayFocus?.focus||c?.todayWorkout?.structure?.title||c?.todayWorkout?.goal||"Workout",workoutFocus:c?.todayFocus?.activityType||c?.todayWorkout?.structure?.focus,isRestDay:c?.isRestDayToday,onStartWorkout:()=>{c?.todayWorkout&&(b(c.todayWorkout.id),v(!0))}})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(u,{title:c?.tomorrowFocus?.focus||c?.tomorrowWorkout?.structure?.title||c?.tomorrowWorkout?.goal||void 0,focus:c?.tomorrowFocus?.activityType||c?.tomorrowWorkout?.structure?.focus,description:c?.tomorrowWorkout?.structure?.description,isRestDay:c?.isRestDayTomorrow}),(0,t.jsx)(m,{text:c?.quote?.text,author:c?.quote?.author}),(0,t.jsx)(x,{}),(0,t.jsx)(w,{userId:e})]})]})]}),(0,t.jsx)(W,{open:f,onClose:()=>v(!1),workoutId:g,userId:e,dayLabel:j})]})}e.s(["UserDashboard",()=>B],256116)}]);