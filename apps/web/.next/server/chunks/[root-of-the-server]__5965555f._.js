module.exports=[968387,32721,363690,e=>{"use strict";var s=e.i(681247);let t=new class{provider="twilio";async sendMessage(e,t,r){try{let n=await s.twilioClient.sendSMS(e.phoneNumber,t,r);return{messageId:n.sid,status:this.mapTwilioStatus(n.status),provider:this.provider,to:n.to,from:n.from,timestamp:n.dateCreated,metadata:{twilioSid:n.sid,twilioStatus:n.status,errorCode:n.errorCode,errorMessage:n.errorMessage,mediaUrls:r}}}catch(e){throw console.error("TwilioMessagingClient: Failed to send message",e),e}}mapTwilioStatus(e){switch(e){case"sent":case"delivered":return"delivered";case"queued":case"accepted":case"sending":return"queued";case"failed":case"undelivered":return"failed";default:return"sent"}}};var r=e.i(427699);let n=new class{provider="local";eventEmitter;messageCounter=0;constructor(){this.eventEmitter=new r.EventEmitter,this.eventEmitter.setMaxListeners(100)}async sendMessage(e,s,t){let r=`local-${Date.now()}-${++this.messageCounter}`,n=new Date,o=e.phoneNumber;return this.eventEmitter.emit("message",{messageId:r,to:o,from:"local-system",content:s||"[MMS only - no text]",timestamp:n}),console.log("[LocalMessagingClient] Message sent (not actual SMS):",{messageId:r,to:o,userId:e.id,preview:s?s.substring(0,50):"[MMS only]",mediaUrls:t}),{messageId:r,status:"sent",provider:this.provider,to:o,from:"local-system",timestamp:n,metadata:{userId:e.id,phoneNumber:o,contentLength:s?.length||0,mediaUrls:t}}}onMessage(e){this.eventEmitter.on("message",e)}offMessage(e){this.eventEmitter.off("message",e)}getListenerCount(){return this.eventEmitter.listenerCount("message")}};e.s(["localMessagingClient",0,n],32721);var o=e.i(875559);let i=function(){let{provider:e}=(0,o.getMessagingConfig)();return"local"===e?(console.log("[MessagingFactory] Using LocalMessagingClient (no SMS will be sent)"),n):t}();e.s(["messagingClient",0,i],363690),e.s([],968387)},485685,e=>{e.v(e=>Promise.resolve().then(()=>e(254799)))},316067,e=>{e.v(s=>Promise.all(["server/chunks/node_modules__pnpm_4edfb228._.js"].map(s=>e.l(s))).then(()=>s(706674)))},399164,e=>{e.v(s=>Promise.all(["server/chunks/[root-of-the-server]__61a8a079._.js","server/chunks/node_modules__pnpm_f8c52739._.js","server/chunks/3f000_node-fetch_src_index_0443a381.js"].map(s=>e.l(s))).then(()=>s(785605)))},493820,e=>{e.v(e=>Promise.resolve().then(()=>e(125720)))},279524,e=>{e.v(e=>Promise.resolve().then(()=>e(38330)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5965555f._.js.map