(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,264036,e=>{"use strict";var t=e.i(903334),a=e.i(784705);let r=a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("div",{ref:r,className:`rounded-2xl border-0 bg-white shadow-lg shadow-black/[0.03] ring-1 ring-black/[0.05] ${e}`,...a}));r.displayName="Card",a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("div",{ref:r,className:`flex flex-col space-y-1.5 p-6 ${e}`,...a})).displayName="CardHeader",a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("h3",{ref:r,className:`text-2xl font-semibold leading-none tracking-tight ${e}`,...a})).displayName="CardTitle",a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("p",{ref:r,className:`text-sm text-muted-foreground ${e}`,...a})).displayName="CardDescription";let s=a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("div",{ref:r,className:`p-6 pt-0 ${e}`,...a}));s.displayName="CardContent",a.forwardRef(({className:e="",...a},r)=>(0,t.jsx)("div",{ref:r,className:`flex items-center p-6 pt-0 ${e}`,...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>s])},638555,e=>{e.v({className:"bebas_neue_44cd17de-module__LD6DLq__className"})},53087,e=>{"use strict";var t=e.i(903334),a=e.i(784705),r=e.i(316028),s=e.i(985902),l=e.i(264036);let n=(0,e.i(158569).default)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var i=e.i(271669),o=e.i(902529),d=e.i(638555);let c={className:d.default.className,style:{fontFamily:"'Bebas Neue', 'Bebas Neue Fallback'",fontWeight:400,fontStyle:"normal"}};function u(){let e=(0,r.useRouter)(),[d,u]=(0,a.useState)("phone"),[m,f]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[x,g]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),N=async e=>{e.preventDefault(),y(null),g(!0);try{let e=m.replace(/\D/g,"");if(10!==e.length){y("Please enter a valid 10-digit phone number"),g(!1);return}let t=await fetch("/api/auth/request-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:`+1${e}`})}),a=await t.json();if(!a.success){y(a.message||"Failed to send verification code"),g(!1);return}u("code")}catch(e){console.error("Error requesting code:",e),y("An unexpected error occurred. Please try again.")}finally{g(!1)}},j=async t=>{t.preventDefault(),y(null),g(!0);try{if(6!==h.length){y("Please enter a 6-digit verification code"),g(!1);return}let t=m.replace(/\D/g,""),a=await fetch("/api/auth/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:`+1${t}`,code:h})}),r=await a.json();if(!r.success){y(r.message||"Invalid verification code"),g(!1);return}e.push("/me")}catch(e){console.error("Error verifying code:",e),y("An unexpected error occurred. Please try again."),g(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,t.jsx)(o.default,{src:"/IconInverse.png",alt:"GymText Logo",width:48,height:48,className:"h-12 w-12"}),(0,t.jsx)("h1",{className:`text-4xl font-bold italic text-[#2d3748] ${c.className}`,children:"GYMTEXT"})]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"phone"===d?"Sign in to your account":"Enter your verification code"})]}),(0,t.jsxs)(l.Card,{className:"p-8",children:[b&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:b})}),"phone"===d?(0,t.jsx)("form",{onSubmit:N,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium mb-2",children:"Phone Number"}),(0,t.jsx)("input",{id:"phone",type:"tel",value:m,onChange:e=>{let t;f((t=e.target.value.replace(/\D/g,"")).length<=3?t:t.length<=6?`(${t.slice(0,3)}) ${t.slice(3)}`:`(${t.slice(0,3)}) ${t.slice(3,6)}-${t.slice(6,10)}`)},placeholder:"(555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",disabled:x,autoComplete:"tel",maxLength:14}),(0,t.jsx)("p",{className:"mt-2 text-xs text-muted-foreground",children:"We'll send you a 6-digit verification code"})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full",disabled:x,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending code..."]}):"Send verification code"}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>e.push("/"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Don't have an account? Sign up"})})]})}):(0,t.jsx)("form",{onSubmit:j,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"code",className:"block text-sm font-medium mb-2",children:"Verification Code"}),(0,t.jsx)("input",{id:"code",type:"text",value:h,onChange:e=>p(e.target.value.replace(/\D/g,"")),placeholder:"123456",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest font-mono",disabled:x,autoComplete:"one-time-code",maxLength:6,autoFocus:!0}),(0,t.jsx)("p",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Check your phone for a 6-digit code"})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full",disabled:x||6!==h.length,children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):"Verify and sign in"}),(0,t.jsxs)(s.Button,{type:"button",variant:"outline",className:"w-full",onClick:()=>{u("phone"),p(""),y(null)},disabled:x,children:[(0,t.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Change phone number"]})]})})]})]})})}null!=d.default.variable&&(c.variable=d.default.variable),e.s(["default",()=>u],53087)}]);